<div class="border border-1 border-gray rounded-sm">
  <mat-card (click)="$event.stopPropagation()">
    <mat-card-content>
      <mat-card-title>
        <h2>Character Details:</h2>
        {{ character?.name }}
      </mat-card-title>
      <mat-card-header>
        @if (!!character) {
          <div [ngClass]="{'flex-col': portrait, 'flex-row': !portrait}" class="flex  gap-4">
            <img *ngIf="character.image" class="object-cover" src="{{character.image}}" alt="Character img">
            <div class="grid grid-cols-2 gap-2 m-2">
              <span *ngIf="character.origin" class="flex flex-row gap-2">
                <p class="font-bold">Origin:</p>
                <p>{{ character.origin.name != 'unknown' ? character.origin.name : 'Doesn\'t have origin information' }}</p>
              </span>
              <span *ngIf="character.location" class="flex flex-col gap-1">
                <div class="flex flex-row gap-2">
                  <p class="font-bold">Location:</p>
                  <p>{{ character.location.name != 'unknown' ? character.location.name : 'Doesn\'t have location information' }}</p>
                </div>
                <div class="flex flex-row gap-2">
                  <p class="font-bold">Location Type:</p>
                  <p>{{ !!character.location.type ? character.location.type : 'Doesn\'t have location type' }}</p>
                </div>
              </span>
              <span *ngIf="!!character.location?.residents" class="flex flex-col gap-1">
                <div  class="flex flex-row gap-2">
                  <p class="font-bold">Resident:</p>
                  <p>{{ getResident()?.name || 'This location doesn\'t have Residents'}}</p>
                </div>
                <div class="flex flex-row gap-2">
                  <p class="font-bold">Resident gender:</p>
                  <p>{{ getResident()?.gender || 'This location doesn\'t have Residents' }}</p>
                </div>
              </span>

              <span class="flex flex-col gap-1">
                <div class="flex flex-row gap-2">
                  <p class="font-bold">Episode Information:</p>
                  <p>{{ getEpisode()?.name || 'This Episode doesn\'t have information' }}</p>
                </div>
                <div class="flex flex-row gap-2">
                  <p class="font-bold">Air Date:</p>
                  <p>{{ getEpisode()?.air_date || 'This Episode doesn\'t have information' }}</p>
                </div>
              </span>
            </div>
          </div>

        } @else {
          <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        }
      </mat-card-header>
    </mat-card-content>
  </mat-card>

</div>
